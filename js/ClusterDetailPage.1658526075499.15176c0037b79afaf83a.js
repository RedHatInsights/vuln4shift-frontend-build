"use strict";(self.webpackChunkocp_vulnerability_frontend=self.webpackChunkocp_vulnerability_frontend||[]).push([[2641],{5451:(e,t,n)=>{t.GR={name:"CheckCircleIcon",height:512,width:512,svgPath:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z",yOffset:0,xOffset:0},t.rE=n(5183).createIcon(t.GR),t.ZP=t.rE},6899:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(3264)),l=n(9371);t.default=function(e){var t=e.date,n=e.type,r=void 0===n?"relative":n,i=e.extraTitle,c=e.tooltipProps,o=t instanceof Date?t:new Date(t),u=null==t||"Invalid Date"===o.toString()?"invalid":r;return a.default.createElement(a.default.Fragment,null,(0,l.dateByType)(u,c,i)(o))}},9371:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.dateByType=t.dateStringByType=t.addTooltip=void 0;var l=a(n(3264)),i=n(8071),c=36e5,o=24*c,u=30*o,s=365*o,m=function(e,t){return"".concat(e," ").concat(e>1?"".concat(t,"s"):t," ago")},p=[{rightBound:1/0,description:function(e){return m(Math.round(e/s),"year")}},{rightBound:s,description:function(e){return m(Math.round(e/u),"month")}},{rightBound:u,description:function(e){return m(Math.round(e/o),"day")}},{rightBound:o,description:function(e){return m(Math.round(e/c),"hour")}},{rightBound:c,description:function(e){return m(Math.round(e/6e4),"minute")}},{rightBound:6e4,description:function(){return"Just now"}}],f=function(e){return e.toUTCString().split(",")[1].slice(0,-7).trim()};t.addTooltip=function(e,t,n,a){return void 0===a&&(a=""),l.default.createElement(i.Tooltip,r({},n,{content:l.default.createElement("div",null,a,e)}),t)},t.dateStringByType=function(e){return{exact:function(e){return f(e)+" UTC"},onlyDate:function(e){return f(e).slice(0,-6)},relative:function(e){return p.reduce((function(t,n){return n.rightBound>Date.now()-e.getTime()?n.description(Date.now()-e.getTime()):t}),f(e))},invalid:function(){return"Invalid date"}}[e]},t.dateByType=function(e,n,r){return{exact:function(n){return(0,t.dateStringByType)(e)(n)},onlyDate:function(n){return(0,t.dateStringByType)(e)(n)},relative:function(a){return(0,t.addTooltip)((0,t.dateStringByType)("exact")(a),l.default.createElement("span",null,(0,t.dateStringByType)(e)(a)),n,r)},invalid:function(){return"Invalid date"}}[e]}},971:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(3264),a=n.n(r),l=n(8071),i=n(5451);const c=function(){return a().createElement(l.Bullseye,null,a().createElement(l.EmptyState,{variant:l.EmptyStateVariant.large},a().createElement(l.EmptyStateIcon,{icon:i.ZP,size:"sm"}),a().createElement(l.Title,{headingLevel:"h5",size:"lg"},"No CVEs"),a().createElement(l.EmptyStateBody,null,"Your clusters are not affected by any CVEs.")))}},9767:(e,t,n)=>{n.d(t,{t:()=>O,Z:()=>P});var r=n(4942),a=n(7462),l=n(3366),i=n(5664),c=n(448),o=n.n(c),u=n(3264),s=n.n(u),m=n(4184),p=n.n(m),f=function(){return f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},f.apply(this,arguments)};const d=function(e){var t,n=e.centered,r=e.className,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["centered","className"]),l=p()("ins-c-spinner",((t={})["ins-m-center"]=n,t),r);return s().createElement("div",f({role:"status",className:l},a),s().createElement("span",{className:"pf-u-screen-reader"},"Loading..."))};var y=n(5697),b=n.n(y),v=n(3193),g=n(8071),h=["isLoading","variant","children","size"];function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O={spinner:"spinner",table:"table",compactTable:"compactTable",rectangle:"rectangle",inlineSkeleton:"inlineSkeleton",skeleton:"skeleton"},x=function(e){var t=e.isLoading,n=e.variant,r=e.children,c=e.size,u=function(e,t){if(null==e)return{};var n,r,a=(0,l.Z)(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,h);if(t)switch(n){case O.spinner:return s().createElement(d,(0,a.Z)({centered:!0},u));case O.table:return s().createElement(o(),u);case O.compactTable:return s().createElement(o(),(0,a.Z)({variant:v.TableVariant.compact},u));case O.rectangle:return s().createElement(i.Z,(0,a.Z)({shape:"square"},u));case O.inlineSkeleton:return s().createElement(g.Skeleton,(0,a.Z)({size:null!=c?c:i.i.lg},u,{style:S({display:"inline-block"},u.style)}));default:return s().createElement(i.Z,(0,a.Z)({size:null!=c?c:i.i.lg},u))}return r};x.propTypes={isLoading:b().bool,variant:b().oneOf(Object.keys(O)),style:b().object,children:b().node,size:b().string};const P=x},9171:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var r=n(3264),a=n.n(r),l=n(4748),i=n(8071),c=n(885),o=n(8100),u=n(4494),s=n(2110),m=n(971),p=n(6530),f=n(6743),d=n(5084),y=n(5862),b=n(7394),v=n(4724),g=n(1341),h=n(7903);const E=function(){var e=(0,p.useRouteMatch)(),t=(0,u.v9)((function(e){return e.ClusterDetailStore})),n=t.cves,r=t.isTableLoading,l=t.meta,i=(0,f.eh)({allowedParams:o.wG,defaultParams:l,additionalParam:e.params.clusterId,fetchAction:s.FP,changeParamsAction:s.W9}),E=l.search,S=l.cvss_score,O=l.severity,x=l.published,P=(0,d.MG)(S),Z=(0,c.Z)(P,2),j=Z[0],w=Z[1],T=[(0,y.Z)({urlParam:"search",label:"CVE",placeholder:"Search ID or description",value:E,apply:i,chipLabel:"Search term"}),(0,g.Z)({urlParam:"published",label:"Publish date",value:x,items:o.ab,placeholder:"Filter by publish date",apply:i}),(0,v.Z)({urlParam:"severity",label:"Severity",value:O,items:o.og,placeholder:"Filter by severity",apply:i,chipLabel:"Severity"}),(0,b.Z)({urlParam:"cvss_score",label:"CVSS score",minMaxLabels:{min:"Min CVSS",max:"Max CVSS"},range:{min:0,max:10},value:{min:j,max:w},placeholder:"Filter by CVSS score range",apply:i})];return a().createElement(h.Z,{isLoading:r,isExpandable:!0,rows:n.map((function(e){return(0,o.Y7)(e)})),columns:o.Jy,filters:T,meta:l,emptyState:a().createElement(m.Z,null),apply:i})};var S=n(123),O=n(9173),x=n(6899),P=n.n(x),Z=n(9767);const j=function(){var e=(0,p.useRouteMatch)(),t=(0,u.I0)(),n=(0,u.v9)((function(e){return e.ClusterDetailStore})),l=n.cluster,c=n.isDetailLoading;(0,r.useEffect)((function(){t((0,s.ZH)(e.params.clusterId))}),[]);var o=a().createElement(Z.Z,{variant:Z.t.inlineSkeleton,width:"300px",fontSize:"lg",isLoading:c,style:{verticalAlign:-4}},l.display_name);return a().createElement(S.Z,null,a().createElement(i.Breadcrumb,{className:"pf-u-mb-md"},a().createElement(i.BreadcrumbItem,null,a().createElement(p.Link,{to:"/"},"Vulnerability")),a().createElement(i.BreadcrumbItem,null,a().createElement(p.Link,{to:"/clusters"},"Clusters")),a().createElement(i.BreadcrumbItem,null,a().createElement(Z.Z,{variant:Z.t.inlineSkeleton,width:"200px",fontSize:"sm",isLoading:c,style:{verticalAlign:-4}},l.display_name))),a().createElement(O.Z,{title:o,className:"pf-u-mb-sm"}),"UUID: ",a().createElement(Z.Z,{variant:Z.t.inlineSkeleton,width:"300px",fontSize:"sm",isLoading:c,style:{verticalAlign:-4}},e.params.clusterId),a().createElement("br",null),"Last seen: ",a().createElement(Z.Z,{variant:Z.t.inlineSkeleton,width:"200px",fontSize:"sm",isLoading:c,style:{verticalAlign:-4}},a().createElement(P(),{date:l.last_seen,type:"exact"})))},w=function(){return a().createElement(r.Fragment,null,a().createElement(j,null),a().createElement(l.Z,null,a().createElement(i.TextContent,null,a().createElement(i.Text,{component:i.TextVariants.h2,className:"pf-u-mb-md"},"CVEs")),a().createElement(E,null)))}},4724:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(4942),a=n(3237);const l=function(e){var t=e.urlParam,n=e.label,l=e.value,i=e.placeholder,c=e.items,o=e.apply,u=e.chipLabel,s=function(e){var n;o((n={},(0,r.Z)(n,t,e.join(",")),(0,r.Z)(n,"offset",0),n))};return{filterConfig:{label:n,type:a.Y.checkbox,urlParam:t,key:t,filterValues:{onChange:function(e,t){s(t)},items:c,value:l?l.split(","):[],placeholder:i}},activeFiltersConfig:{isShown:!!l,onDelete:function(e){var t=e.map((function(e){return e.value})),n=l.split(",").filter((function(e){return!t.includes(e)}));s(n)},key:t,category:u,chips:c.filter((function(e){return null==l?void 0:l.split(",").includes(e.value)})).map((function(e){return{name:e.label,value:e.value}}))}}}},1341:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(4942),a=n(3237);const l=function(e){var t=e.urlParam,n=e.label,l=e.value,i=e.placeholder,c=e.items,o=e.apply;return{filterConfig:{label:n,type:a.Y.radio,urlParam:t,key:t,filterValues:{onChange:function(e,n){!function(e){var n;o((n={},(0,r.Z)(n,t,e),(0,r.Z)(n,"offset",0),n))}(n)},items:c,value:l||c[0].value,placeholder:i}}}}},7394:(e,t,n)=>{n.d(t,{Z:()=>g});var r=n(4942),a=n(885),l=n(3264),i=n.n(l),c=n(3279),o=n.n(c),u=n(7462),s=n(5697),m=n.n(s),p=n(8071);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e){var t=e.defaultValues,n=e.setValues,c=e.range,o=e.minMaxLabels,s=e.selectProps,m=(0,l.useState)(!1),f=(0,a.Z)(m,2),y=f[0],b=f[1],v=(0,l.useState)({min:t.min.toString(),max:t.max.toString()}),g=(0,a.Z)(v,2),h=g[0],E=g[1],S=function(e,t){var n={min:Number(e.min),max:Number(e.max)};return""!=e[t]&&n[t]<=c.max&&n[t]>=c.min&&n.min<=n.max},O=function(e,t){var a=d(d({},h),{},(0,r.Z)({},t,e));S(a,"min")&&S(a,"max")&&n({min:Number(a.min),max:Number(a.max)}),E(a)},x=i().createElement(p.Split,{className:"pf-u-m-md"},i().createElement(p.SplitItem,null,i().createElement("span",{style:{fontSize:"var(--pf-global--FontSize--sm)"}},o.min),i().createElement("br",null),i().createElement(p.TextInput,{type:"number",onChange:function(e){return O(e,"min")},validated:S(h,"min")?"default":"error",className:"range-filter-input",id:"range-filter-input-min",value:h.min})),i().createElement(p.SplitItem,null,i().createElement("br",null),i().createElement("span",{className:"pf-u-m-sm"},"-")),i().createElement(p.SplitItem,null,i().createElement("span",{style:{fontSize:"var(--pf-global--FontSize--sm)"}},o.max),i().createElement("br",null),i().createElement(p.TextInput,{type:"number",onChange:function(e){return O(e,"max")},validated:S(h,"max")?"default":"error",className:"range-filter-input",id:"range-filter-input-max",value:h.max})));return i().createElement(p.Select,(0,u.Z)({variant:"panel","aria-label":"Select Input",customContent:x,onToggle:function(){return b(!y)},isOpen:y,width:"auto"},s))};y.propTypes={defaultValues:m().shape({min:m().number,max:m().number}),setValues:m().func,range:m().shape({min:m().number,max:m().number}),minMaxLabels:m().shape({min:m().node,max:m().node}),selectProps:m().object};const b=y;var v=n(3237);const g=function(e){var t=e.urlParam,n=e.label,c=e.minMaxLabels,u=e.range,s=e.value,m=e.placeholder,p=e.apply,f=(0,l.useState)(),d=(0,a.Z)(f,2),y=d[0],g=d[1],h=(0,l.useState)((function(){return o()((function(e){var n;e.min>=0&&e.max<=10&&e.min<=e.max&&p((n={},(0,r.Z)(n,t,"".concat(e.min,",").concat(e.max)),(0,r.Z)(n,"offset",0),n))}),600)})),E=(0,a.Z)(h,1)[0];return(0,l.useEffect)((function(){g({min:isNaN(s.min)?u.min:s.min,max:isNaN(s.max)?u.max:s.max})}),[s.min,s.max]),{filterConfig:{label:n,type:v.Y.custom,key:t,urlParam:t,filterValues:{children:i().createElement(b,{defaultValues:y,setValues:function(e){g(e),E(e)},range:u,className:"pf-u-mb-0",selectProps:{placeholderText:m},minMaxLabels:c})}}}}}}]);
//# sourceMappingURL=../sourcemaps/ClusterDetailPage.7956e40336ae7cfff16a10db0125f9e5.js.map