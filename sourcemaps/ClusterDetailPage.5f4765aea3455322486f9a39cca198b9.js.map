{"version":3,"file":"js/ClusterDetailPage.1656075631883.784d1e5af6a38eba7593.js","mappings":"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","sources":["webpack:///./node_modules/@patternfly/react-icons/dist/js/icons/check-circle-icon.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components/DateFormat/DateFormat.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components/DateFormat/helper.js","webpack:///./src/Components/PresentationalComponents/EmptyStates/NoCves.js","webpack:///./src/Components/SmartComponents/ClusterDetail/ClusterDetailTable.js","webpack:///./src/Components/SmartComponents/ClusterDetail/ClusterDetailPage.js"],"sourcesContent":["\"use strict\"\nexports.__esModule = true;\nexports.CheckCircleIconConfig = {\n  name: 'CheckCircleIcon',\n  height: 512,\n  width: 512,\n  svgPath: 'M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z',\n  yOffset: 0,\n  xOffset: 0,\n};\nexports.CheckCircleIcon = require('../createIcon').createIcon(exports.CheckCircleIconConfig);\nexports[\"default\"] = exports.CheckCircleIcon;","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importDefault(require(\"react\"));\nvar helper_1 = require(\"./helper\");\nvar DateFormat = function (_a) {\n    var date = _a.date, _b = _a.type, type = _b === void 0 ? 'relative' : _b, extraTitle = _a.extraTitle, tooltipProps = _a.tooltipProps;\n    var dateObj = date instanceof Date ? date : new Date(date);\n    var invalid = date === undefined || date === null || dateObj.toString() === 'Invalid Date';\n    var dateType = invalid ? 'invalid' : type;\n    return react_1.default.createElement(react_1.default.Fragment, null, (0, helper_1.dateByType)(dateType, tooltipProps, extraTitle)(dateObj));\n};\nexports.default = DateFormat;\n//# sourceMappingURL=DateFormat.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.dateByType = exports.dateStringByType = exports.addTooltip = void 0;\nvar react_1 = __importDefault(require(\"react\"));\nvar react_core_1 = require(\"@patternfly/react-core\");\nvar second = 1000;\nvar minute = second * 60;\nvar hour = minute * 60;\nvar day = hour * 24;\nvar month = day * 30;\nvar year = day * 365;\nvar formatTime = function (number, unit) { return \"\".concat(number, \" \").concat(number > 1 ? \"\".concat(unit, \"s\") : unit, \" ago\"); };\nvar relativeTimeTable = [\n    { rightBound: Infinity, description: function (date) { return formatTime(Math.round(date / year), 'year'); } },\n    { rightBound: year, description: function (date) { return formatTime(Math.round(date / month), 'month'); } },\n    { rightBound: month, description: function (date) { return formatTime(Math.round(date / day), 'day'); } },\n    { rightBound: day, description: function (date) { return formatTime(Math.round(date / hour), 'hour'); } },\n    { rightBound: hour, description: function (date) { return formatTime(Math.round(date / minute), 'minute'); } },\n    { rightBound: minute, description: function () { return 'Just now'; } },\n];\nvar exact = function (value) { return value.toUTCString().split(',')[1].slice(0, -7).trim(); };\nvar addTooltip = function (date, element, tooltipProps, extraTitle) {\n    if (extraTitle === void 0) { extraTitle = ''; }\n    return (react_1.default.createElement(react_core_1.Tooltip, __assign({}, tooltipProps, { content: react_1.default.createElement(\"div\", null,\n            extraTitle,\n            date) }), element));\n};\nexports.addTooltip = addTooltip;\nvar dateStringByType = function (type) {\n    return ({\n        exact: function (date) { return exact(date) + ' UTC'; },\n        onlyDate: function (date) { return exact(date).slice(0, -6); },\n        relative: function (date) {\n            return relativeTimeTable.reduce(function (acc, i) { return (i.rightBound > Date.now() - date.getTime() ? i.description(Date.now() - date.getTime()) : acc); }, exact(date));\n        },\n        invalid: function () { return 'Invalid date'; },\n    }[type]);\n};\nexports.dateStringByType = dateStringByType;\nvar dateByType = function (type, tooltipProps, extraTitle) {\n    return ({\n        exact: function (date) { return (0, exports.dateStringByType)(type)(date); },\n        onlyDate: function (date) { return (0, exports.dateStringByType)(type)(date); },\n        relative: function (date) { return (0, exports.addTooltip)((0, exports.dateStringByType)('exact')(date), react_1.default.createElement(\"span\", null, (0, exports.dateStringByType)(type)(date)), tooltipProps, extraTitle); },\n        invalid: function () { return 'Invalid date'; },\n    }[type]);\n};\nexports.dateByType = dateByType;\n//# sourceMappingURL=helper.js.map","import React from 'react';\nimport {\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  Bullseye,\n  Title,\n  EmptyStateVariant,\n} from '@patternfly/react-core';\nimport { CheckCircleIcon } from '@patternfly/react-icons';\n\nconst NoCves = () => (\n  <Bullseye>\n    <EmptyState variant={EmptyStateVariant.large}>\n      <EmptyStateIcon icon={CheckCircleIcon} size=\"sm\" />\n      <Title headingLevel=\"h5\" size=\"lg\">\n        No CVEs\n      </Title>\n      <EmptyStateBody>\n        Your clusters are not affected by any CVEs.\n      </EmptyStateBody>\n    </EmptyState>\n  </Bullseye>\n);\n\nexport default NoCves;\n","import React, { Fragment, useEffect } from 'react';\nimport BaseTable from '../BaseTable';\nimport {\n  CLUSTER_DETAIL_TABLE_COLUMNS,\n  CLUSTER_DETAIL_TABLE_MAPPER,\n} from '../../../Helpers/constants';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchClusterDetailTable } from '../../../Store/Actions';\nimport BaseToolbar from '../BaseToolbar';\nimport BottomPagination from '../../PresentationalComponents/BottomPagination';\nimport NoCves from '../../PresentationalComponents/EmptyStates/NoCves';\nimport { useRouteMatch } from 'react-router-dom';\n\nconst ClusterDetailTable = () => {\n  const match = useRouteMatch();\n  const dispatch = useDispatch();\n\n  const { cves, total_items, isTableLoading } = useSelector(\n    ({ ClusterDetailStore }) => ClusterDetailStore\n  );\n\n  useEffect(() => {\n    dispatch(fetchClusterDetailTable(match.params.clusterId));\n  }, []);\n\n  return (\n    <Fragment>\n      <BaseToolbar page={1} perPage={20} itemCount={total_items} />\n      <BaseTable\n        isLoading={isTableLoading}\n        columns={CLUSTER_DETAIL_TABLE_COLUMNS}\n        rows={cves.map((row) => CLUSTER_DETAIL_TABLE_MAPPER(row))}\n        isExpandable\n        emptyState={<NoCves />}\n      />\n      <BottomPagination page={1} perPage={20} itemCount={total_items} />\n    </Fragment>\n  );\n};\n\nexport default ClusterDetailTable;\n","import React, { Fragment, useEffect } from 'react';\nimport { Main } from '@redhat-cloud-services/frontend-components/Main';\nimport {\n  PageHeader,\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\nimport { Breadcrumb, BreadcrumbItem } from '@patternfly/react-core';\nimport { Link, useRouteMatch } from 'react-router-dom';\nimport ClusterDetailTable from './ClusterDetailTable';\nimport WithLoader, {\n  LoaderType,\n} from '../..//PresentationalComponents/WithLoader';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchClusterDetails } from '../../../Store/Actions';\nimport DateFormat from '@redhat-cloud-services/frontend-components/DateFormat/DateFormat';\n\nconst ClusterDetailPage = () => {\n  const match = useRouteMatch();\n  const dispatch = useDispatch();\n\n  const { cluster, isDetailLoading } = useSelector(\n    ({ ClusterDetailStore }) => ClusterDetailStore\n  );\n\n  useEffect(() => {\n    dispatch(fetchClusterDetails(match.params.clusterId));\n  }, []);\n\n  const pageTitle = (\n    <WithLoader\n      variant={LoaderType.inlineSkeleton}\n      width=\"300px\"\n      fontSize=\"lg\"\n      isLoading={isDetailLoading}\n      style={{ verticalAlign: -4 }}\n    >\n      {cluster.display_name}\n    </WithLoader>\n  );\n\n  return (\n    <Fragment>\n      <PageHeader>\n        <Breadcrumb className=\"pf-u-mb-md\">\n          <BreadcrumbItem>\n            <Link to=\"/\">Vulnerability</Link>\n          </BreadcrumbItem>\n          <BreadcrumbItem>\n            <Link to=\"/clusters\">Clusters</Link>\n          </BreadcrumbItem>\n          <BreadcrumbItem>\n            <WithLoader\n              variant={LoaderType.inlineSkeleton}\n              width=\"200px\"\n              fontSize=\"sm\"\n              isLoading={isDetailLoading}\n              style={{ verticalAlign: -4 }}\n            >\n              {cluster.display_name}\n            </WithLoader>\n          </BreadcrumbItem>\n        </Breadcrumb>\n        <PageHeaderTitle title={pageTitle} className=\"pf-u-mb-sm\" />\n        <Fragment>\n          UUID:&nbsp;\n          <WithLoader\n            variant={LoaderType.inlineSkeleton}\n            width=\"300px\"\n            fontSize=\"sm\"\n            isLoading={isDetailLoading}\n            style={{ verticalAlign: -4 }}\n          >\n            {match.params.clusterId}\n          </WithLoader>\n          <br />\n          Last seen:&nbsp;\n          <WithLoader\n            variant={LoaderType.inlineSkeleton}\n            width=\"200px\"\n            fontSize=\"sm\"\n            isLoading={isDetailLoading}\n            style={{ verticalAlign: -4 }}\n          >\n            <DateFormat date={cluster.updated} type=\"exact\" />\n          </WithLoader>\n        </Fragment>\n      </PageHeader>\n      <Main>\n        <ClusterDetailTable />\n      </Main>\n    </Fragment>\n  );\n};\n\nexport default ClusterDetailPage;\n"],"names":["exports","name","height","width","svgPath","yOffset","xOffset","__importDefault","this","mod","__esModule","Object","defineProperty","value","react_1","helper_1","_a","date","_b","type","extraTitle","tooltipProps","dateObj","Date","dateType","toString","default","createElement","Fragment","dateByType","__assign","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","dateStringByType","addTooltip","react_core_1","hour","minute","day","month","year","formatTime","number","unit","concat","relativeTimeTable","rightBound","Infinity","description","Math","round","second","exact","toUTCString","split","slice","trim","element","Tooltip","content","onlyDate","relative","reduce","acc","now","getTime","invalid","Bullseye","EmptyState","variant","EmptyStateVariant","EmptyStateIcon","icon","CheckCircleIcon","size","Title","headingLevel","EmptyStateBody","match","useRouteMatch","dispatch","useDispatch","useSelector","ClusterDetailStore","cves","total_items","isTableLoading","useEffect","fetchClusterDetailTable","params","clusterId","BaseToolbar","page","perPage","itemCount","BaseTable","isLoading","columns","CLUSTER_DETAIL_TABLE_COLUMNS","rows","map","row","CLUSTER_DETAIL_TABLE_MAPPER","isExpandable","emptyState","NoCves","BottomPagination","cluster","isDetailLoading","fetchClusterDetails","pageTitle","WithLoader","LoaderType","fontSize","style","verticalAlign","display_name","PageHeader","Breadcrumb","className","BreadcrumbItem","Link","to","PageHeaderTitle","title","updated","Main"],"sourceRoot":""}